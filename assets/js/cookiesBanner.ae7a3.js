(window.webpackJsonp=window.webpackJsonp||[]).push([[11],{89:function(e,t,i){"use strict";i.r(t),t.default=function(e){var i=e.cookiesBanner,c=i.querySelector(".js-cookie-popup"),n=c.querySelector(".cookie-popup__popup-wrapper"),o=document.querySelector(".cookie-management__popup-wrapper"),a=document.querySelector(".cookie-detail__popup-wrapper"),t=c.querySelector(".cookie-popup__link"),r=c.querySelector(".cookie-popup__allow"),s=c.querySelector(".cookie-popup__manage-allow"),u=c.querySelector(".cookie-popup__decline"),l=c.querySelector(".cookie-popup__manage-decline"),d=c.querySelector(".cookie-popup__manage"),f=c.querySelector(".cookie-popup__confirm"),p=c.querySelector(".cookie-management__back"),b=c.querySelector(".cookie-detail__back"),m=a.querySelectorAll(".accordion__item--header"),v=o.querySelectorAll(".accordion__item--header"),k="cookie-popup--active",x="cookie-popup--hidden",h=i.querySelectorAll(".cookies__switch"),y=document.getElementById("footer-cookie-manager-link"),E=[],g=[],A=[],L='*[tabindex]:not([tabindex="-1"]), a[href]:not(.hidden):not([tabindex="-1"]), input:not([disabled]):not([tabindex="-1"])',_=[".scope.org.uk",window.location.hostname],S=function(){document.cookie="scope-accept=true;max-age=31536000;path=/"},q=function(e){if(e){var t=e.split(",");t&&t.forEach(function(e){E.includes(e)||E.push(e)})}},w=function(e){if(e){var t=e.split(",");t&&t.forEach(function(e){var t=E.indexOf(e);-1<t&&E.splice(t,1)})}},H=function(e){if(e){var t=e.split(",");t&&t.forEach(function(e){g.includes(e)||g.push(e)})}},O=function(e){if(e){var t=e.split(",");t&&t.forEach(function(e){var t=g.indexOf(e);-1<t&&g.splice(t,1)})}},T=function(){0<g.length&&g.forEach(function(t){var e=t,i=e.indexOf(":");if(i<0)_.forEach(function(e){document.cookie="".concat(t,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; max-age=0; path=/; domain=").concat(e)});else{var n=e.substring(0,i),c=e.substring(i+1,e.length);document.cookie="".concat(n,"=; expires=Thu, 01 Jan 1970 00:00:00 UTC; max-age=0; path=/; domain=").concat(c)}})},D=function(o){h&&(A=[],h.forEach(function(e){var t,i,n=!0===e.checked,c=e.dataset.cookies;!1===o?(H(c),w(c),n=!1):!0===o&&(q(c),O(c),n=!0),A.push((t=e.id,i=n,'{"'.concat(t,'":').concat(!0===i?"true":"false","}")))})),document.cookie="scope-cookies=[".concat(A.toString(),"];max-age=31536000;path=/")},J=function(){A&&0<A.length&&h.forEach(function(e){var t=e.dataset.cookies;!0===e.checked?(q(t),O(t)):(H(t),w(t))})},j=function(){for(var e=0;e<h.length;e+=1){var t=h[e],i=t.nextElementSibling;t.checked=-1!==document.cookie.indexOf('"'.concat(t.id,'":true')),!0===t.checked?i.classList.add("active"):i.classList.remove("active")}},B=function(){n.classList.add(k),n.classList.remove(x),n.setAttribute("tabindex",0),r.setAttribute("tabindex",0),d.setAttribute("tabindex",0),u&&u.setAttribute("tabindex",0),t&&t.setAttribute("tabindex",0),document.activeElement.blur(),n.focus()},C=function(){n.classList.remove(k),n.classList.add(x),n.removeAttribute("tabindex"),r.setAttribute("tabindex",-1),d.setAttribute("tabindex",-1),u&&u.setAttribute("tabindex",-1),t&&t.setAttribute("tabindex",-1)},I=function(){o.classList.add(k),o.classList.remove(x),o.setAttribute("tabindex",0),p.setAttribute("tabindex",0),s.setAttribute("tabindex",0),f.setAttribute("tabindex",0),l&&l.setAttribute("tabindex",0),v.forEach(function(e){e.setAttribute("tabindex",0)}),h.forEach(function(e){e.setAttribute("tabindex",0)}),c.querySelectorAll(".accordion__item--link").forEach(function(e){var t=e.querySelector("a");t&&(t.style.display="block")}),document.activeElement.blur(),o.focus()},U=function(){o.classList.remove(k),o.classList.add(x),o.removeAttribute("tabindex"),p.setAttribute("tabindex",-1),s.setAttribute("tabindex",-1),f.setAttribute("tabindex",-1),l&&l.setAttribute("tabindex",-1),v.forEach(function(e){e.removeAttribute("tabindex")}),h.forEach(function(e){e.setAttribute("tabindex",-1)}),c.querySelectorAll(".accordion__item--link").forEach(function(e){var t=e.querySelector("a");t&&(t.style.display="none")}),o.querySelectorAll(".accordion__item--header").forEach(function(e){e.classList.remove("active"),e.nextElementSibling.nextElementSibling.style.maxHeight=0,e.setAttribute("aria-expanded","false")})},z=function(){a.classList.remove(k),a.classList.add(x),a.removeAttribute("tabindex"),b.setAttribute("tabindex",-1);for(var e=a.querySelectorAll(".cookie-detail__item"),t=0,i=e.length;t<i;t+=1)e[t].classList.add("hidden");a.querySelectorAll(".accordion__item--header").forEach(function(e){e.classList.remove("active"),e.nextElementSibling.style.maxHeight=0,e.setAttribute("aria-expanded","false")})},K=function(){c.classList.remove(k),c.classList.add(x),C(),U(),z(),document.activeElement.blur(),document.body.focus()},F=function(){c.classList.add(k),c.classList.remove(x),B()},G=function(){D(!0),T(),S(),j(),K()},M=function(){D(!1),T(),S(),j()};return Object.freeze({init:function(){if(null!=c){-1===document.cookie.indexOf("scope-cookies")?D():J(),j(),-1===document.cookie.indexOf("scope-accept=true")?setTimeout(function(){return F()},500):K(),r.addEventListener("click",function(){G(),K()}),s.addEventListener("click",function(){return G()}),f.addEventListener("click",function(){return D(),T(),S(),void K()}),d.addEventListener("click",function(){return C(),void I()}),p.addEventListener("click",function(){return U(),void B()}),b.addEventListener("click",function(){return z(),void I()}),u&&u.addEventListener("click",function(){M(),K()}),l&&l.addEventListener("click",function(){return M()}),h.forEach(function(t){return t.addEventListener("change",function(){var e=t.nextElementSibling;t.checked?e.classList.add("active"):e.classList.remove("active")})}),c.querySelectorAll(".accordion__item--link").forEach(function(c){var o=c.querySelector("a");o&&(o.addEventListener("click",function(){for(var e=c.id,t=document.querySelectorAll("[data-cookie='".concat(e,"']")),i=0,n=t.length;i<n;i+=1)t[i].classList.remove("hidden");U(),a.classList.add(k),a.classList.remove(x),a.setAttribute("tabindex",0),b.setAttribute("tabindex",0),document.activeElement.blur(),a.focus(),o.style.display="none"}),o.addEventListener("keyup",function(e){e&&"Enter"===e.key&&(e.preventDefault(),e.target.click())}))}),m.forEach(function(i){i.addEventListener("click",function(){var e=a.querySelector(".accordion__item--header.active");e&&e!==i&&(e.classList.remove("active"),e.nextElementSibling.style.maxHeight=0,e.setAttribute("aria-expanded","false")),i.classList.toggle("active");var t=i.nextElementSibling;i.classList.contains("active")?(t.style.maxHeight=t.scrollHeight+"10px",i.setAttribute("aria-expanded","true")):(t.style.maxHeight=0,i.setAttribute("aria-expanded","false"))}),i.addEventListener("keyup",function(e){"Enter"===e.key&&(e.preventDefault(),e.target.click())})}),v.forEach(function(n){n.addEventListener("click",function(){var e=o.querySelector(".accordion__item--header.active");e&&e!==n&&(e.classList.remove("active"),e.nextElementSibling.nextElementSibling.style.maxHeight=0,e.setAttribute("aria-expanded","false")),n.classList.toggle("active");var t=n.nextElementSibling.nextElementSibling,i=t.querySelector("a");n.classList.contains("active")?(t.style.maxHeight=t.scrollHeight+"10px",n.setAttribute("aria-expanded","true"),i&&i.setAttribute("tabindex",0)):(t.style.maxHeight=0,n.setAttribute("aria-expanded","false"),i&&i.setAttribute("tabindex",1))}),n.addEventListener("keyup",function(e){"Enter"===e.key&&(e.preventDefault(),e.target.click())})}),document.addEventListener("focus",function(e){var t=c.querySelector(".".concat(k));t&&(Array.from(t.querySelectorAll(L)).includes(e.target)||(n.classList.contains(k)?n.focus():o.classList.contains(k)?o.focus():a.classList.contains(k)&&a.focus()))},!0),null!=y&&(y.addEventListener("click",function(){return F()}),y.addEventListener("keyup",function(e){"Enter"===e.key&&(e.preventDefault(),e.target.click(),F(),setTimeout(function(){return n.focus()},1))}));var e,t=i.querySelectorAll(".accordion__item--always-active");t&&0<t.length&&t.forEach(function(e){q(e.dataset.cookies)}),document.addEventListener("keydown",function(e){if("Tab"===e.key||9===e.key){var t=c.querySelectorAll(L),i=t[0],n=t[t.length-1];e.shiftKey?document.activeElement===i&&(n.focus(),e.preventDefault()):document.activeElement===n&&(i.focus(),e.preventDefault())}}),e=document.cookie.match("(^|;)\\s*scope-cookies\\s*=\\s*([^;]+)"),A=e?e.pop():"",T(),window.onload=function(){T(),c.querySelectorAll(L)[0].focus(),setInterval(function(){J(),T()},5e3)}}}})}}}]);
//# sourceMappingURL=cookiesBanner.ae7a3.js.map